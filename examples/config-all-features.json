{
  "dtm_year": 2024,
  "csw_url": "https://emodnet.ec.europa.eu/geonetwork/srv/eng/csw",
  "output_mbtiles": "./data/output/bathy_contours.mbtiles",
  "cache_dir": "./data/cache",
  "bbox_lonlat": [
    13.9,
    40.55,
    14.45,
    40.95
  ],
  "zoom_min": 7,
  "zoom_max": 14,
  "tile_pixels": 512,
  "extent": 4096,
  "layer_name": "bathy_contours",
  "contour_intervals_m": {
    "7-9": 50,
    "10-11": 20,
    "12-14": 10
  },
  "cache_intermediate": true,
  "coastline_mask": {
    "enabled": true,
    "source": "osm_land_polygons",
    "osm_land_polygons_url": "https://osmdata.openstreetmap.de/download/land-polygons-split-4326.zip",
    "emodnet_vector_url": "",
    "emodnet_vector_layer": null,
    "max_features": null
  },
  "land_mask_cache": {
    "enabled": true,
    "all_touched": false
  },
  "bathy_data": {
    "enabled": true,
    "output": "raster_mbtiles",
    "mode": "mvt_grid_i16",
    "layer_name": "bathy_data",
    "grid_size": 32,
    "quantization_m": 0.1,
    "raster_mbtiles": {
      "output_mbtiles": "./data/output/bathy_raster.mbtiles",
      "grid_size": 256,
      "value_scaling": {
        "mode": "linear",
        "vmin": -6000,
        "vmax": 0
      },
      "mbtiles_metadata": {
        "name": "Bathymetry raster tiles (png8)",
        "description": "PNG8 bathymetry tiles mapped linearly from vmin..vmax; 0 is nodata."
      }
    }
  },
  "derived_rasters": {
    "enabled": true,
    "hillshade_mbtiles": "./data/output/bathy_hillshade.mbtiles",
    "slope_mbtiles": "./data/output/bathy_slope.mbtiles",
    "tile_size": 256,
    "hillshade": {
      "azimuth_deg": 315.0,
      "altitude_deg": 45.0
    },
    "mbtiles_metadata": {
      "attribution": "Derived from EMODnet Bathymetry DTM (CC BY 4.0)."
    }
  },
  "tilejson": {
    "enabled": true,
    "base_url": "http://localhost:8080/tiles",
    "out_dir": "./data/output/tilejson"
  },
  "obfuscation": {
    "enabled": true,
    "seed": 20260201,
    "jitter_m_by_zoom": {
      "7-9": 120,
      "10-11": 40,
      "12-14": 12
    },
    "simplify_m_by_zoom": {
      "7-9": 80,
      "10-11": 25,
      "12-14": 8
    },
    "drop_probability_by_zoom": {
      "7-9": 0.15,
      "10-11": 0.08,
      "12-14": 0.03
    },
    "level_noise_m_by_zoom": {
      "7-9": 8,
      "10-11": 4,
      "12-14": 2
    }
  },
  "mbtiles_metadata": {
    "name": "Bathymetry contours (EMODnet-derived)",
    "description": "Contour tiles generated from EMODnet DTM tiles; land-masked and optionally obfuscated.",
    "attribution": "Derived from EMODnet Bathymetry DTM (CC BY 4.0)."
  }
}
