<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Bathymetry Demo (MapLibre)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    html, body, #map { height: 100%; margin: 0; }
    .info { position: absolute; left: 12px; top: 12px; background: rgba(255,255,255,0.9); padding: 10px; border-radius: 8px; font: 12px/1.3 system-ui; max-width: 360px;}
  </style>
</head>
<body>
<div id="map"></div>
<div class="info">
  <b>Bathymetry demo</b><br/>
  This demo expects a tile server exposing endpoints like:<br/>
  <code>/tiles/vector/{z}/{x}/{y}.pbf</code><br/>
  <code>/tiles/bathy/{z}/{x}/{y}.png</code><br/>
  <code>/tiles/hillshade/{z}/{x}/{y}.png</code><br/>
  <code>/tiles/slope/{z}/{x}/{y}.png</code><br/>
  Adjust URLs in this file if needed.
</div>

<script src="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.js"></script>
<script>
  const base = "http://localhost:8080/tiles";

  const map = new maplibregl.Map({
    container: "map",
    style: {
      version: 8,
      sources: {
        osm: {
          type: "raster",
          tiles: ["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],
          tileSize: 256,
          attribution: "Â© OpenStreetMap"
        },
        bathy: { type: "raster", tiles: [`${base}/bathy/{z}/{x}/{y}.png`], tileSize: 256 },
        hillshade: { type: "raster", tiles: [`${base}/hillshade/{z}/{x}/{y}.png`], tileSize: 256 },
        contours: { type: "vector", tiles: [`${base}/vector/{z}/{x}/{y}.pbf`], minzoom: 0, maxzoom: 22 }
      },
      layers: [
        { id: "osm", type: "raster", source: "osm" },
        { id: "bathy", type: "raster", source: "bathy", paint: { "raster-opacity": 0.55 } },
        { id: "hillshade", type: "raster", source: "hillshade", paint: { "raster-opacity": 0.45 } },
        { id: "contours", type: "line", source: "contours", "source-layer": "bathy_contours",
          paint: { "line-width": 1.0, "line-opacity": 0.9 } }
      ]
    },
    center: [14.15, 40.75],
    zoom: 10
  });

  map.addControl(new maplibregl.NavigationControl(), "top-right");
</script>
</body>
</html>
